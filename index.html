<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>🎂 생일 축하합니다 🎉</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <audio id="bgm" loop preload="auto">
      <source src="assets/music/bgm.mp3" type="audio/mpeg" />
    </audio>

    <div id="letter-container">
      <p class="emoji-title">💌 31번째 생일을 축하해 💌</p>
      <br />
      <p class="fade-line">몇 가지 질문에 대답하면</p>
      <p class="fade-line">게임을 다운받을 수 있어.</p>
      <br />
      <p class="fade-line">아래 버튼을 누르면 음악이 재생되니까</p>
      <p class="fade-line">소리 꼭 키고 진행해줘!!</p>
      <br />
      <button id="open-letter" class="fade-line">✨ 편지 열기 ✨</button>
    </div>

    <div id="quiz-container" class="hidden">
      <div id="question-box">
        <p id="question" class="emoji-question">❓</p>
        <div id="choices"></div>
        <p id="timer">⏱ 남은 시간: <span id="time">30</span>초</p>
        <button id="next-btn" disabled>👉 다음 문제 👉</button>
      </div>
    </div>

    <div id="result-container" class="hidden">
      <h2 class="emoji-title">🎊 퀴즈 결과 🎊</h2>
      <p id="score" class="emoji-score"></p>
      <p id="message" class="emoji-msg"></p>
      <div id="confetti"></div>

      <!-- ✅ ✅ ✅ result-container 내부에 있어야 작동함 -->
      <div id="download-link" class="hidden">
        <p>🎁 아래에서 선물을 다운로드 해줘!</p>
        <a
          href="https://example.com/download"
          target="_blank"
          class="download-btn"
          >📥 게임 다운로드</a
        >
      </div>

      <div id="restart-button" class="hidden">
        <button id="restart-btn">🔁 처음으로 돌아가기</button>
      </div>
    </div>

    <script src="script.js"></script>
    <script>
      // 순차 Fade-In 효과
      window.addEventListener("DOMContentLoaded", () => {
        const lines = document.querySelectorAll(".fade-line");
        lines.forEach((line, index) => {
          setTimeout(() => {
            line.classList.add("visible");
          }, index * 500);
        });

        // 처음으로 돌아가기 버튼 이벤트 연결도 여기서
        const restartBtn = document.getElementById("restart-btn");
        if (restartBtn) {
          restartBtn.addEventListener("click", () => {
            location.reload(); // 간단하게 새로고침으로 돌아가기 처리
          });
        }
      });
    </script>
  </body>
</html>
